import java.text.SimpleDateFormat;
import java.util.*;
import java.util.stream.Collectors;

public class SortAndCleanStrings {
    public static void main(String[] args) {
        // Sample list of strings
        List<String> stringsWithDates = Arrays.asList(
            "Sep 8 60.00 transfer in about gdkd",
            "Jan 15 45.00 transfer out",
            "Dec 25 100.00 transfer in some info",
            "Mar 3 30.00 transfer out extra text"
        );

        // Define the date format
        SimpleDateFormat dateFormat = new SimpleDateFormat("MMM d", Locale.ENGLISH);

        // Process the strings: Clean and Sort
        List<String> sortedAndCleaned = stringsWithDates.stream()
            .map(s -> s.replaceAll("(transfer (in|out)).*", "$1")) // Keep only "transfer in" or "transfer out"
            .sorted(Comparator.comparing(s -> {
                try {
                    String datePart = s.split(" ", 3)[0] + " " + s.split(" ", 3)[1];
                    return dateFormat.parse(datePart);
                } catch (Exception e) {
                    throw new RuntimeException(e);
                }
            }))
            .collect(Collectors.toList());

        // Print the sorted and cleaned list
        sortedAndCleaned.forEach(System.out::println);
    }
}